****************************************************************;
******             DECISION TREE SCORING CODE             ******;
****************************************************************;
 
******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
LENGTH I_CLAIM_IND  $   12;
LENGTH _WARN_  $    4;
 
******              LABELS FOR NEW VARIABLES              ******;
label _NODE_ = 'Node' ;
label _LEAF_ = 'Leaf' ;
label P_CLAIM_IND0 = 'Predicted: CLAIM_IND=0' ;
label P_CLAIM_IND1 = 'Predicted: CLAIM_IND=1' ;
label Q_CLAIM_IND0 = 'Unadjusted P: CLAIM_IND=0' ;
label Q_CLAIM_IND1 = 'Unadjusted P: CLAIM_IND=1' ;
label V_CLAIM_IND0 = 'Validated: CLAIM_IND=0' ;
label V_CLAIM_IND1 = 'Validated: CLAIM_IND=1' ;
label I_CLAIM_IND = 'Into: CLAIM_IND' ;
label U_CLAIM_IND = 'Unnormalized Into: CLAIM_IND' ;
label _WARN_ = 'Warnings' ;
 
 
******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_13 $     13; DROP _ARBFMT_13;
_ARBFMT_13 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_21 $     21; DROP _ARBFMT_21;
_ARBFMT_21 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_5 $      5; DROP _ARBFMT_5;
_ARBFMT_5 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_11 $     11; DROP _ARBFMT_11;
_ARBFMT_11 = ' '; /* Initialize to avoid warning. */
LENGTH _ARBFMT_10 $     10; DROP _ARBFMT_10;
_ARBFMT_10 = ' '; /* Initialize to avoid warning. */
 
 
******             ASSIGN OBSERVATION TO NODE             ******;
_ARBFMT_21 = PUT( AREA , $21.);
 %DMNORMIP( _ARBFMT_21);
IF _ARBFMT_21 IN ('Z_HIGHLY RURAL/ RURAL' ) THEN DO;
  IF  NOT MISSING(CLM_FREQ ) AND
                     2.5 <= CLM_FREQ  THEN DO;
    _NODE_  =                    8;
    _LEAF_  =                   23;
    P_CLAIM_IND0  =     0.76190476190476;
    P_CLAIM_IND1  =     0.23809523809523;
    Q_CLAIM_IND0  =     0.76190476190476;
    Q_CLAIM_IND1  =     0.23809523809523;
    V_CLAIM_IND0  =     0.73417721518987;
    V_CLAIM_IND1  =     0.26582278481012;
    I_CLAIM_IND  = '0' ;
    U_CLAIM_IND  =                    0;
    END;
  ELSE DO;
    _ARBFMT_5 = PUT( STATUS , $5.);
     %DMNORMIP( _ARBFMT_5);
    IF _ARBFMT_5 IN ('Z_NO' ) THEN DO;
      _NODE_  =                   13;
      _LEAF_  =                   21;
      P_CLAIM_IND0  =     0.91970802919708;
      P_CLAIM_IND1  =     0.08029197080291;
      Q_CLAIM_IND0  =     0.91970802919708;
      Q_CLAIM_IND1  =     0.08029197080291;
      V_CLAIM_IND0  =     0.93312101910828;
      V_CLAIM_IND1  =     0.06687898089171;
      I_CLAIM_IND  = '0' ;
      U_CLAIM_IND  =                    0;
      END;
    ELSE DO;
      _NODE_  =                   14;
      _LEAF_  =                   22;
      P_CLAIM_IND0  =     0.96593186372745;
      P_CLAIM_IND1  =     0.03406813627254;
      Q_CLAIM_IND0  =     0.96593186372745;
      Q_CLAIM_IND1  =     0.03406813627254;
      V_CLAIM_IND0  =     0.97447795823665;
      V_CLAIM_IND1  =     0.02552204176334;
      I_CLAIM_IND  = '0' ;
      U_CLAIM_IND  =                    0;
      END;
    END;
  END;
ELSE DO;
  _ARBFMT_13 = PUT( JOB , $13.);
   %DMNORMIP( _ARBFMT_13);
  IF _ARBFMT_13 IN ('TEACHER' ,'HOME MAKER' ,'CLERICAL' ,'STUDENT' ) THEN DO;
    _ARBFMT_5 = PUT( STATUS , $5.);
     %DMNORMIP( _ARBFMT_5);
    IF _ARBFMT_5 IN ('Z_NO' ) THEN DO;
      _ARBFMT_11 = PUT( VEHICLE_TYPE , $11.);
       %DMNORMIP( _ARBFMT_11);
      IF _ARBFMT_11 IN ('SPORTS CAR' ,'PANEL TRUCK' ,'VAN' ,'PICKUP' ) THEN
        DO;
        _ARBFMT_3 = PUT( REVOKED , $3.);
         %DMNORMIP( _ARBFMT_3);
        IF _ARBFMT_3 IN ('YES' ) THEN DO;
          _NODE_  =                   28;
          _LEAF_  =                    8;
          P_CLAIM_IND0  =     0.12765957446808;
          P_CLAIM_IND1  =     0.87234042553191;
          Q_CLAIM_IND0  =     0.12765957446808;
          Q_CLAIM_IND1  =     0.87234042553191;
          V_CLAIM_IND0  =                 0.22;
          V_CLAIM_IND1  =                 0.78;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        ELSE DO;
          _NODE_  =                   27;
          _LEAF_  =                    7;
          P_CLAIM_IND0  =     0.33846153846153;
          P_CLAIM_IND1  =     0.66153846153846;
          Q_CLAIM_IND0  =     0.33846153846153;
          Q_CLAIM_IND1  =     0.66153846153846;
          V_CLAIM_IND0  =     0.46632124352331;
          V_CLAIM_IND1  =     0.53367875647668;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        END;
      ELSE DO;
        IF  NOT MISSING(DISTANCE ) AND
              85.9929255747592 <= DISTANCE  THEN DO;
          _NODE_  =                   30;
          _LEAF_  =                   10;
          P_CLAIM_IND0  =     0.35849056603773;
          P_CLAIM_IND1  =     0.64150943396226;
          Q_CLAIM_IND0  =     0.35849056603773;
          Q_CLAIM_IND1  =     0.64150943396226;
          V_CLAIM_IND0  =     0.45794392523364;
          V_CLAIM_IND1  =     0.54205607476635;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        ELSE DO;
          _NODE_  =                   29;
          _LEAF_  =                    9;
          P_CLAIM_IND0  =     0.56981132075471;
          P_CLAIM_IND1  =     0.43018867924528;
          Q_CLAIM_IND0  =     0.56981132075471;
          Q_CLAIM_IND1  =     0.43018867924528;
          V_CLAIM_IND0  =      0.5042735042735;
          V_CLAIM_IND1  =     0.49572649572649;
          I_CLAIM_IND  = '0' ;
          U_CLAIM_IND  =                    0;
          END;
        END;
      END;
    ELSE DO;
      _ARBFMT_3 = PUT( REVOKED , $3.);
       %DMNORMIP( _ARBFMT_3);
      IF _ARBFMT_3 IN ('YES' ) THEN DO;
        _ARBFMT_10 = PUT( CAR_USE , $10.);
         %DMNORMIP( _ARBFMT_10);
        IF _ARBFMT_10 IN ('PRIVATE' ) THEN DO;
          _NODE_  =                   23;
          _LEAF_  =                    1;
          P_CLAIM_IND0  =     0.56716417910447;
          P_CLAIM_IND1  =     0.43283582089552;
          Q_CLAIM_IND0  =     0.56716417910447;
          Q_CLAIM_IND1  =     0.43283582089552;
          V_CLAIM_IND0  =     0.54794520547945;
          V_CLAIM_IND1  =     0.45205479452054;
          I_CLAIM_IND  = '0' ;
          U_CLAIM_IND  =                    0;
          END;
        ELSE DO;
          _NODE_  =                   24;
          _LEAF_  =                    2;
          P_CLAIM_IND0  =     0.35211267605633;
          P_CLAIM_IND1  =     0.64788732394366;
          Q_CLAIM_IND0  =     0.35211267605633;
          Q_CLAIM_IND1  =     0.64788732394366;
          V_CLAIM_IND0  =     0.25454545454545;
          V_CLAIM_IND1  =     0.74545454545454;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        END;
      ELSE DO;
        IF  NOT MISSING(MVR_PTS ) AND
                           5.5 <= MVR_PTS  THEN DO;
          _ARBFMT_13 = PUT( EDU_LEVEL , $13.);
           %DMNORMIP( _ARBFMT_13);
          IF _ARBFMT_13 IN ('Z_HIGH SCHOOL' ) THEN DO;
            _NODE_  =                   42;
            _LEAF_  =                    6;
            P_CLAIM_IND0  =     0.36708860759493;
            P_CLAIM_IND1  =     0.63291139240506;
            Q_CLAIM_IND0  =     0.36708860759493;
            Q_CLAIM_IND1  =     0.63291139240506;
            V_CLAIM_IND0  =     0.50632911392405;
            V_CLAIM_IND1  =     0.49367088607594;
            I_CLAIM_IND  = '1' ;
            U_CLAIM_IND  =                    1;
            END;
          ELSE DO;
            _NODE_  =                   41;
            _LEAF_  =                    5;
            P_CLAIM_IND0  =     0.63541666666666;
            P_CLAIM_IND1  =     0.36458333333333;
            Q_CLAIM_IND0  =     0.63541666666666;
            Q_CLAIM_IND1  =     0.36458333333333;
            V_CLAIM_IND0  =     0.57954545454545;
            V_CLAIM_IND1  =     0.42045454545454;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          END;
        ELSE DO;
          IF  NOT MISSING(INCOME ) AND
                71938.9414774673 <= INCOME  THEN DO;
            _NODE_  =                   40;
            _LEAF_  =                    4;
            P_CLAIM_IND0  =      0.8735632183908;
            P_CLAIM_IND1  =     0.12643678160919;
            Q_CLAIM_IND0  =      0.8735632183908;
            Q_CLAIM_IND1  =     0.12643678160919;
            V_CLAIM_IND0  =     0.76923076923076;
            V_CLAIM_IND1  =     0.23076923076923;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          ELSE DO;
            _NODE_  =                   39;
            _LEAF_  =                    3;
            P_CLAIM_IND0  =     0.65492957746478;
            P_CLAIM_IND1  =     0.34507042253521;
            Q_CLAIM_IND0  =     0.65492957746478;
            Q_CLAIM_IND1  =     0.34507042253521;
            V_CLAIM_IND0  =     0.66068222621184;
            V_CLAIM_IND1  =     0.33931777378815;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          END;
        END;
      END;
    END;
  ELSE DO;
    IF  NOT MISSING(CHILD_DRIV ) AND
                       0.5 <= CHILD_DRIV  THEN DO;
      _ARBFMT_5 = PUT( STATUS , $5.);
       %DMNORMIP( _ARBFMT_5);
      IF _ARBFMT_5 IN ('Z_NO' ) THEN DO;
        _ARBFMT_10 = PUT( CAR_USE , $10.);
         %DMNORMIP( _ARBFMT_10);
        IF _ARBFMT_10 IN ('COMMERCIAL' ) THEN DO;
          _NODE_  =                   37;
          _LEAF_  =                   19;
          P_CLAIM_IND0  =               0.0625;
          P_CLAIM_IND1  =               0.9375;
          Q_CLAIM_IND0  =               0.0625;
          Q_CLAIM_IND1  =               0.9375;
          V_CLAIM_IND0  =     0.26315789473684;
          V_CLAIM_IND1  =     0.73684210526315;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        ELSE DO;
          _NODE_  =                   38;
          _LEAF_  =                   20;
          P_CLAIM_IND0  =     0.43396226415094;
          P_CLAIM_IND1  =     0.56603773584905;
          Q_CLAIM_IND0  =     0.43396226415094;
          Q_CLAIM_IND1  =     0.56603773584905;
          V_CLAIM_IND0  =     0.41304347826086;
          V_CLAIM_IND1  =     0.58695652173913;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        END;
      ELSE DO;
        _ARBFMT_3 = PUT( REVOKED , $3.);
         %DMNORMIP( _ARBFMT_3);
        IF _ARBFMT_3 IN ('YES' ) THEN DO;
          _NODE_  =                   35;
          _LEAF_  =                   17;
          P_CLAIM_IND0  =     0.21428571428571;
          P_CLAIM_IND1  =     0.78571428571428;
          Q_CLAIM_IND0  =     0.21428571428571;
          Q_CLAIM_IND1  =     0.78571428571428;
          V_CLAIM_IND0  =     0.35714285714285;
          V_CLAIM_IND1  =     0.64285714285714;
          I_CLAIM_IND  = '1' ;
          U_CLAIM_IND  =                    1;
          END;
        ELSE DO;
          _NODE_  =                   36;
          _LEAF_  =                   18;
          P_CLAIM_IND0  =                 0.65;
          P_CLAIM_IND1  =                 0.35;
          Q_CLAIM_IND0  =                 0.65;
          Q_CLAIM_IND1  =                 0.35;
          V_CLAIM_IND0  =     0.59493670886075;
          V_CLAIM_IND1  =     0.40506329113924;
          I_CLAIM_IND  = '0' ;
          U_CLAIM_IND  =                    0;
          END;
        END;
      END;
    ELSE DO;
      _ARBFMT_13 = PUT( JOB , $13.);
       %DMNORMIP( _ARBFMT_13);
      IF _ARBFMT_13 IN ('MANAGER' ,'DOCTOR' ) THEN DO;
        _ARBFMT_5 = PUT( STATUS , $5.);
         %DMNORMIP( _ARBFMT_5);
        IF _ARBFMT_5 IN ('Z_NO' ) THEN DO;
          _NODE_  =                   31;
          _LEAF_  =                   11;
          P_CLAIM_IND0  =     0.86462882096069;
          P_CLAIM_IND1  =      0.1353711790393;
          Q_CLAIM_IND0  =     0.86462882096069;
          Q_CLAIM_IND1  =      0.1353711790393;
          V_CLAIM_IND0  =     0.82329317269076;
          V_CLAIM_IND1  =     0.17670682730923;
          I_CLAIM_IND  = '0' ;
          U_CLAIM_IND  =                    0;
          END;
        ELSE DO;
          IF  NOT MISSING(DISTANCE ) AND
                91.7196806708961 <= DISTANCE  THEN DO;
            _NODE_  =                   44;
            _LEAF_  =                   13;
            P_CLAIM_IND0  =                  0.8;
            P_CLAIM_IND1  =                  0.2;
            Q_CLAIM_IND0  =                  0.8;
            Q_CLAIM_IND1  =                  0.2;
            V_CLAIM_IND0  =     0.79166666666666;
            V_CLAIM_IND1  =     0.20833333333333;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          ELSE DO;
            _NODE_  =                   43;
            _LEAF_  =                   12;
            P_CLAIM_IND0  =     0.95744680851063;
            P_CLAIM_IND1  =     0.04255319148936;
            Q_CLAIM_IND0  =     0.95744680851063;
            Q_CLAIM_IND1  =     0.04255319148936;
            V_CLAIM_IND0  =     0.93181818181818;
            V_CLAIM_IND1  =     0.06818181818181;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          END;
        END;
      ELSE DO;
        IF  NOT MISSING(HOUSE_VAL ) AND
          HOUSE_VAL  <             173725.5 THEN DO;
          _NODE_  =                   33;
          _LEAF_  =                   14;
          P_CLAIM_IND0  =     0.60550458715596;
          P_CLAIM_IND1  =     0.39449541284403;
          Q_CLAIM_IND0  =     0.60550458715596;
          Q_CLAIM_IND1  =     0.39449541284403;
          V_CLAIM_IND0  =     0.59782608695652;
          V_CLAIM_IND1  =     0.40217391304347;
          I_CLAIM_IND  = '0' ;
          U_CLAIM_IND  =                    0;
          END;
        ELSE DO;
          _ARBFMT_10 = PUT( CAR_USE , $10.);
           %DMNORMIP( _ARBFMT_10);
          IF _ARBFMT_10 IN ('COMMERCIAL' ) THEN DO;
            _NODE_  =                   45;
            _LEAF_  =                   15;
            P_CLAIM_IND0  =     0.74193548387096;
            P_CLAIM_IND1  =     0.25806451612903;
            Q_CLAIM_IND0  =     0.74193548387096;
            Q_CLAIM_IND1  =     0.25806451612903;
            V_CLAIM_IND0  =     0.70163934426229;
            V_CLAIM_IND1  =      0.2983606557377;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          ELSE DO;
            _NODE_  =                   46;
            _LEAF_  =                   16;
            P_CLAIM_IND0  =     0.84848484848484;
            P_CLAIM_IND1  =     0.15151515151515;
            Q_CLAIM_IND0  =     0.84848484848484;
            Q_CLAIM_IND1  =     0.15151515151515;
            V_CLAIM_IND0  =     0.83173076923076;
            V_CLAIM_IND1  =     0.16826923076923;
            I_CLAIM_IND  = '0' ;
            U_CLAIM_IND  =                    0;
            END;
          END;
        END;
      END;
    END;
  END;
 
****************************************************************;
******          END OF DECISION TREE SCORING CODE         ******;
****************************************************************;
 
drop _LEAF_;
